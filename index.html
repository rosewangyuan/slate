
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;python&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="python">python</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc" class="toc-list-h1">
          <li>
            <a href="#api-documentation" class="toc-h1 toc-link" data-title="api-documentation">API Documentation</a>
          </li>
          <li>
            <a href="#flood-tweets" class="toc-h1 toc-link" data-title="flood-tweets">Flood Tweets</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-all-tweets" class="toc-h2 toc-link" data-title="get-all-tweets">Get All Tweets</a>
                  </li>
                  <li>
                    <a href="#filter-tweets" class="toc-h2 toc-link" data-title="filter-tweets">Filter Tweets</a>
                  </li>
              </ul>
          </li>
      </div>
        <ul class="toc-footer">
            <li><a href='https://github.com/lord/slate'>Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='api-documentation'>API Documentation</h1>
<p>Welcome to the Flood Chaser API! This API provides exposure to a database that collects and postprocesses flood related tweets. The database is a part of the deliverables of the UK Space Agency Space for Smarter Government Programme (SSGP) project. You can view code examples in the dark area to the right on how to access this database through the Flood Chaser API.</p>

<p>Base URLs:
https://hydas.co.uk/api/v1/flood/twitter</p>

<blockquote>
<p>Scroll down for code samples, example requests and responses. </p>
</blockquote>
<h1 id='flood-tweets'>Flood Tweets</h1><h2 id='get-all-tweets'>Get All Tweets</h2><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Accept'</span><span class="p">:</span> <span class="s">'application/json'</span>
<span class="p">}</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'https://hydas.co.uk/api/v1/flood/twitter/all'</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="p">{</span>

<span class="p">},</span> 
<span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">)</span>

<span class="k">print</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"URL"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://twitter.com/statuses/1011972424135598080"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"about_flood"</span><span class="p">:</span><span class="w"> </span><span class="s2">"n"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"address_tweet"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"confidence"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-06-27 14:00:02.000000"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"id_str"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1011972424135598080"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"index"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"lat_nlp"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"lat_tweet"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"location"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[]"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"lon_nlp"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"lon_tweet"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The latest The significant-events Daily! https://t.co/PEbAo8BBvs Thanks to @arcwinsurance @LegacyPremium @IADCDredging #flood #volcano"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">30137142</span><span class="w">
  </span><span class="p">},</span><span class="w"> 
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"URL"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://twitter.com/statuses/1011972425263796224"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"about_flood"</span><span class="p">:</span><span class="w"> </span><span class="s2">"n"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"address_tweet"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"confidence"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-06-27 14:00:02.000000"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"id_str"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1011972425263796224"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"index"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"lat_nlp"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"lat_tweet"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"location"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[]"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"lon_nlp"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"lon_tweet"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"With sandbags lined and barriers put up, many Rock Valley residents are having flashbacks to the floods of 2014. https://t.co/1Iz177SwB7"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">14849086</span><span class="w">
  </span><span class="p">}]</span><span class="w"> 
</span></code></pre>
<p>This endpoint retrieves all tweets.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET https://hydas.co.uk/api/v1/flood/twitter/all</code></p>
<h3 id='response-schema'>Response Schema</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead><tbody>
<tr>
<td>text</td>
<td>string</td>
<td>The text of the tweet.</td>
<td>Just arrived at Victoria Station. It is flooding inside. Oh dear, it is not looking good for my visit to London!</td>
</tr>
<tr>
<td>URL</td>
<td>string</td>
<td>The URL of the original tweet.</td>
<td>https://twitter.com/statuses/1011972424135598080</td>
</tr>
<tr>
<td>about_flood</td>
<td>string</td>
<td>&#39;y&#39; if the tweet is about a physical flood, &#39;n&#39; if not.</td>
<td>y</td>
</tr>
<tr>
<td>address_tweet</td>
<td>string</td>
<td>The address where the tweet was sent if the GPS location function was turned on when tweeting. It&#39;s nullable.</td>
<td>Buckingham Palace. London SW1A 1AA.</td>
</tr>
<tr>
<td>created_at</td>
<td>string</td>
<td>The date and time when the tweet was posted.</td>
<td>2018-06-27 14:00:02.000000</td>
</tr>
<tr>
<td>id_str</td>
<td>string</td>
<td>The id of the tweet.</td>
<td>1011972424135598080</td>
</tr>
<tr>
<td>index</td>
<td>integer</td>
<td>The index number in the database.</td>
<td>0</td>
</tr>
<tr>
<td>lat_tweet</td>
<td>float</td>
<td>The latitude of the tweeting coordinates. It&#39;s nullable.</td>
<td>51.212</td>
</tr>
<tr>
<td>lon_tweet</td>
<td>float</td>
<td>The longitude of the tweeting coordinates. It&#39;s nullable.</td>
<td>0.001</td>
</tr>
<tr>
<td>lat_nlp</td>
<td>float</td>
<td>The latitude of the geocoded coordinates based on location recognition through NLP. It&#39;s nullable.</td>
<td>51.212</td>
</tr>
<tr>
<td>lon_nlp</td>
<td>float</td>
<td>The longitude of the geocoded coordinates based on location recognition through NLP. It&#39;s nullable.</td>
<td>51.212</td>
</tr>
<tr>
<td>location</td>
<td>object</td>
<td>A list of locations mentioned in the tweet.</td>
<td>[&#39;Victoria Station&#39;,&#39;London&#39;]</td>
</tr>
<tr>
<td>confidence</td>
<td>integer</td>
<td>The value reflects the confidence of geocoding. The higher the value, the more confident or less ambiguous we are about the address found via location mention in tweets.</td>
<td>7</td>
</tr>
</tbody></table>
<h2 id='filter-tweets'>Filter Tweets</h2><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Accept'</span><span class="p">:</span> <span class="s">'application/json'</span>
<span class="p">}</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'https://hydas.co.uk/api/v1/flood/</span><span class="err">
</span><span class="s">twitter'</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s">'userid'</span><span class="p">:</span><span class="s">'30137142'</span><span class="p">},</span> <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">)</span>

<span class="k">print</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>

</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">'</span><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"URL"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://twitter.com/statuses/1011972424135598080"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"about_flood"</span><span class="p">:</span><span class="w"> </span><span class="s2">"n"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"address_tweet"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"confidence"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-06-27 14:00:02.000000"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"id_str"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1011972424135598080"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"index"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"lat_nlp"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"lat_tweet"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"location"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[]"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"lon_nlp"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"lon_tweet"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The latest The significant-events Daily! https://t.co/PEbAo8BBvs Thanks to @arcwinsurance @LegacyPremium @IADCDredging #flood #volcano"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">30137142</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="err">'</span><span class="w">
</span></code></pre>
<p>This endpoint filters the database using the following query parameters. All query parameters can be used the same way as shown in the example on the right dark area. </p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>GET https://hydas.co.uk/api/v1/flood/twitter?parameter=value</code></p>
<h3 id='query-parameters'>Query Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead><tbody>
<tr>
<td>userid</td>
<td>string</td>
<td>The userid of the twitter account. This filters the database to include only tweets sent from this userid</td>
<td>&#39;1009375723855982592&#39;</td>
</tr>
<tr>
<td>latest</td>
<td>integer</td>
<td>This parameter can set to return the latest N amount of tweets from the database.</td>
<td>100</td>
</tr>
<tr>
<td>aboutflood</td>
<td>boolean</td>
<td>This parameter will filter tweets to include only the ones related to physical floods.</td>
<td>y</td>
</tr>
<tr>
<td>period</td>
<td>string</td>
<td>The period of interest. By entering the starting datetime and ending datetime, users can filter the database to include tweets sent within the period of interest. Starting and ending datetimes are separated by comma.</td>
<td>&#39;2018-06-27 14:00:00,2018-06-27 18:00:00&#39;</td>
</tr>
<tr>
<td>boundingbox</td>
<td>string</td>
<td>Filter tweets that are located in the bounding box. The format would be: SLat,WLon,NLat,Elon. An example to filter tweets for greater London area is shown on the right.</td>
<td>51.279,-0.516,51.698,0.342</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="python">python</a>
          </div>
      </div>
    </div>
  </body>
</html>
